<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Formulario de Solicitud</title>
        <link rel="stylesheet" href="estilo.css">
    </head>
    <body>

        <div class="container">
            <h1>Nueva Solicitud</h1>

            <!-- Formulario de solicitud -->
            <form id="solicitud-form">
                <!-- Asunto de la ausencia -->
                <div>
                    <label for="asunto">Asunto de la Ausencia:</label>
                    <input type="text" id="asunto" name="asunto" required>
                </div>

                <!-- Justificación de la ausencia -->
                <div>
                    <label for="justificacion">Justificación de la Ausencia:</label>
                    <textarea id="justificacion" name="justificacion" rows="4" required></textarea>
                </div>

                <!-- Subir justificante -->
                <div>
                    <label for="justificante">Subir Justificante:</label>
                    <input type="file" id="justificante" name="justificante">
                </div>

                <!-- Fecha de inicio -->
                <div>
                    <label for="fecha-inicio">Fecha Inicio:</label>
                    <input type="date" id="fecha-inicio" name="fecha-inicio" required onchange="toggleFechaFin()">
                </div>

                <!-- Fecha de fin -->
                <div id="fecha-fin-group">
                    <label for="fecha-fin">Fecha Fin:</label>
                    <input type="date" id="fecha-fin" name="fecha-fin">
                </div>

                <!-- Selección de horas -->
                <div class="checkbox-group">
                    <label><input type="checkbox" value="1" onclick="generarCamposHora()"> 1ª Hora</label>
                    <label><input type="checkbox" value="2" onclick="generarCamposHora()"> 2ª Hora</label>
                    <label><input type="checkbox" value="3" onclick="generarCamposHora()"> 3ª Hora</label>
                    <label><input type="checkbox" value="4" onclick="generarCamposHora()"> 4ª Hora</label>
                    <label><input type="checkbox" value="5" onclick="generarCamposHora()"> 5ª Hora</label>
                    <label><input type="checkbox" value="6" onclick="generarCamposHora()"> 6ª Hora</label>
                    <label><input type="checkbox" value="7" onclick="generarCamposHora()"> 7ª Hora</label>
                </div>

                <!-- Campos generados dinámicamente para las horas -->
                <div id="campos-horas" class="dynamic-fields"></div>

                <!-- Botón de enviar -->
                <button type="submit">Enviar Solicitud</button>
            </form>
        </div>

        <script>
            function toggleFechaFin() {
                const fechaInicio = document.getElementById('fecha-inicio').value;
                const fechaFinGroup = document.getElementById('fecha-fin-group');

                if (fechaInicio) {
                    fechaFinGroup.style.display = 'block';
                } else {
                    fechaFinGroup.style.display = 'none';
                }
            }

            function generarCamposHora() {
                const selectedHoras = document.querySelectorAll('.checkbox-group input[type="checkbox"]:checked');
                const camposHoras = document.getElementById('campos-horas');

                camposHoras.innerHTML = '';

                if (selectedHoras.length > 0) {
                    camposHoras.style.display = 'flex';
                    selectedHoras.forEach(hora => {
                        const horaSeleccionada = hora.value;

                        const divHora = document.createElement('div');
                        divHora.className = 'hour-block';
                        divHora.innerHTML = `
                            <h3>${horaSeleccionada}ª Hora</h3>
                            <label for="observaciones-${horaSeleccionada}">Observaciones:</label>
                            <textarea id="observaciones-${horaSeleccionada}" name="observaciones-${horaSeleccionada}" rows="2"></textarea>

                            <label for="material-${horaSeleccionada}">Material de Guardia (Subir):</label>
                            <input type="file" id="material-${horaSeleccionada}" name="material-${horaSeleccionada}">
                        `;
                        camposHoras.appendChild(divHora);
                    });
                } else {
                    camposHoras.style.display = 'none';
                }
            }
        </script>

    </body>
</html>
